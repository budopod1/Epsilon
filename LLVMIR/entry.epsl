#import irgen;
#import binjson;
#import eewriter;

Z#main {
    start irgen ["/example/path/to/file"];
    ir entry;
    end irgen;

    return 0;
}

#ir entry {
if (fn [Z_] ["main"] [[Type_] []]) {
    Val:arr = new array [Array_ [W_]] [[Val] [c [1], c [2]]] with capacity [10];
    [arr].check_ref;

    Val:str = mut str ["Hello, world!"] [1];
    free[str];

    Val:a = var [c [1.2]];
    [a] = [[a] + [c [0.9]]];
    ret [cast [a] to [Z_]];
end fn;
};
}
