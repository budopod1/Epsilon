TODO:
* filter to prevent FunctionRuleMatchers with duplicate IPatternSegments
* add cast operator
